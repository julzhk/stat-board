<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
    </head>
    
    <body>

    {% if insta %}

        <div id="instachart" style="width: 900px; height: 500px;"></div>

        <script type="text/javascript" src="https://www.google.com/jsapi"></script>
        <script type="text/javascript">
            google.load("visualization", "1", {packages:["corechart"]});
            google.setOnLoadCallback(drawChart);
            function drawChart() {
                var data = google.visualization.arrayToDataTable([
                    ['DateTime', 'VAMuseum','34','34','te'],
                    {% for instadata in insta %}
                        [ new Date({{ instadata[0] }}*1000),
                        {% for num in instadata[1:] %}
                            {{ num }},
                        {% endfor %}23],
                    {% endfor %}
                ]);

                var options = {
                    title: '@vamuseum Instagram Followers',
                    vAxis: {'title': 'Number of followers'},
                    hAxis: {'title': 'DateTime', 'format': 'yyyy MM d HH:mm:ss'},
                    curveType: 'function',
                    interpolateNulls: true,
                    legend: { position: 'bottom' }
                };

                var chart = new google.visualization.LineChart(document.getElementById('instachart'));
                chart.draw(data, options);
            }
        </script>
    {% endif %}

    {% if vamuseum %}
        <div id="vamuseum" style="width: 250px; height: 50px; border: 1px solid #ccc;"></div>

        <script type="text/javascript" src="https://www.google.com/jsapi"></script>
        <script type="text/javascript">
            google.load("visualization", "1", {packages:["corechart"]});
            google.setOnLoadCallback(drawChart);
            function drawChart() {
                var data = google.visualization.arrayToDataTable([
                    ['DateTime', 'VAMuseum'],
                    {% for instadata in vamuseum %}
                    [ new Date({{ instadata['datetime'] }}*1000), {{ instadata['followers'] }}],
                    {% endfor %}
                ]);

                var options = {
                    curveType: 'function',
                    interpolateNulls: true,
                    legend: { position: 'none' },
                    axisTitlesPosition: 'none',
                    titlePosition: 'none',
                    hAxis: { 'baselineColor': 'none', 'textPosition': 'none', 'gridlines': {'count': 0} },
                    vAxis: { 'baselineColor': 'none', 'textPosition': 'none', 'gridlines': {'count': 0} },
                    tooltip: { trigger: 'none' },
                    chartArea: {'width': '100%', 'height': '100%'},
                };

                var chart = new google.visualization.LineChart(document.getElementById('vamuseum'));
                chart.draw(data, options);
            }
        </script>
    {% else %}

        <h1>Need more data.</h1>

    {% endif %}

    </body>
    

</html>